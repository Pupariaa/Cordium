const PermissionManager = require('./../src/permissions');

describe('PermissionManager', () => {
  let permManager;

  beforeEach(() => {
    permManager = new PermissionManager();
  });

  test('should initialize with default permissions', () => {
    expect(permManager.permissions).toEqual({ READ: 1, WRITE: 2, DELETE: 4 });
  });

  test('should add a new permission correctly', () => {
    permManager.addPermission('SING');
    expect(permManager.permissions.SING).toBe(8);
  });

  test('should throw error for duplicate permission addition', () => {
    expect(() => {
      permManager.addPermission('READ');
    }).toThrow();
  });
});
